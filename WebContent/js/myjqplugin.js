(function(a){a.fn.slider=function(c){var b={displayTitle:0,displayNav:1,interval:4000,direction:"v",speed:500};return this.each(function(){var p=a(this);if(c){var e=a.extend({},b,c)}var f=p.find("img").size();if(f<1){return}var m=p.children("ul");var u=p.width(),l=p.height();var d='<ol class="hide slide-nav">';for(var k=1;k<=f;k++){d+="<li><span>"+k+"</span></li>"}d+="</ol>";var s=(e.direction=="h")?f:1;var q=(e.direction=="h")?1:f;p.find("img").each(function(){a(this).attr("src",a(this).attr("osrc"));a(this).css({width:u,height:l,"vertical-align":"top"})}).end().css("background","none").find("ul").css({width:u*s,height:l*q}).fadeIn().find("li").css({width:u,height:l,"float":"left"});if(f>1){if(e.displayTitle){a('<div class="slide-title-bg"></div>').appendTo(p).width(u).fadeTo(1,0.4)}p.append(d);var r=p.find("ol li");if(e.displayNav){r.parent().removeClass("hide")}if(e.displayTitle){a('<p class="slide-title">'+p.find("img").eq(0).attr("alt")+"</p>").appendTo(p).width(u-15-p.find("ol").outerWidth())}r.eq(0).addClass("c");var o=1,v,g;g=setInterval(function(){if(o==f){o=0}j(o);o++},e.interval);r.bind("click mouseover",function(h){o=a(h.target).text()-1;window.clearInterval(g);clearTimeout(v);v=setTimeout(function(){j(o)},e.speed);g=setInterval(function(){if(o==f){o=0}j(o);o++},e.interval)});function j(i){r.removeClass("c").eq(i).addClass("c");var h=p.find("img").eq(i);if(!h.attr("src")){h.attr("src",h.attr("osrc"))}if(e.direction=="h"){m.animate({"margin-left":"-"+u*i+"px"},e.speed)}else{m.animate({"margin-top":"-"+l*i+"px"},e.speed)}p.find("p").text(h.attr("alt"))}}})}})(jQuery);
